%META:TOPICINFO{author="mjouvin" date="1449337793" format="1.1" reprev="1.94" version="1.94"}%
%META:TOPICPARENT{name="Egee3Jra1"}%
<img src="%ATTACHURLPATH%/peacock.png" alt="peacock.png" width='100' height='84' />
---+!! Argus Authorization Service
%TOC%

---++ Summary

The Argus Authorization Service renders consistent authorization decisions for distributed services (e.g., user interfaces, portals, computing elements, storage elements). The service is based on the XACML standard, and uses authorization policies to determine if a user is allowed or denied to perform a certain action on a particular service.

The Argus Authorization Service is composed of three main components:
   * The Policy Administration Point (PAP) provides the tools to author authorization policies, organize them in the local repository and configure policy distribution among remote PAPs.
   * The Policy Decision Point (PDP) implements the authorization engine, and is responsible for the evaluation of the authorization requests against the XACML policies retrieved from the PAP. 
   * The Policy Enforcement Point Server (PEP Server) ensures the integrity and consistency of the authorization requests received from the PEP clients. Lightweight PEP client libraries are also provided to ease the integration and interoperability with other EMI services or components. 

The following graphic shows the interaction between the components of the service:

<img src="%ATTACHURLPATH%/glite-ARGUS_components-v2.png" width="900" alt="Argus Components" />

*Note:* In Argus, the PEP is separated in a client/server architecture. The PEP Server handles the lightweight PEP client requests, and runs on the Argus node.

---++ Argus Service Installation
The following section provides instructions for setting up an Argus environment quickly.  It does not provide an exhaustive description of every possible deployment model or configuration option, that can be found in the following [[AuthorizationFramework#Service_Components][Service Components]] and [[AuthorizationFramework#Enabled_Applications][Enabled Applications]] sections.

Before you continue it is recommend that you read this [[AuthZIntro][introduction to the Argus system]].  This will provide you with a better understanding of how the components work together, what information passes between the components and how policies are formed.

---+++ Argus EMI Deployment

For EMI,  the Argus Service is installed with !YUM, and configured with !YAIM. Please follow the [[ArgusEMIDeployment][Argus Deployment for EMI documentation]]

---+++ gLExec Worker Node with Argus Deployment

To install and configure an Argus compatible gLExec worker node, follow these [[https://wiki.nikhef.nl/grid/GLExec_Argus_Quick_Installation_Guide][GLExec Argus Quick Installation Guide]]

---++ Service Components
If you are beginning to install the authorization service from scratch, you should install the components in the order listed here; PAP, then PDP, then PEPd.  You don't have to, but it makes the most sense for most use cases.

---+++ PAP: Policy Administration Point
The Policy Administration Point (PAP) provides three major functions:
   * Provide the tools for authoring policies
   * Store and manage authored policies
   * Provide managed policies to other authorization service components

<table border="0">
<tr>
   <td style="padding-right: 15px;">[[AuthZPAPInstall][Installation]]</td>
   <td style="padding-right: 15px;">[[AuthZPAPConfig][Configuration]]</td>
   <td style="padding-right: 15px;">[[AuthZPAPOperation][Operation]]</td>
   <td style="padding-right: 15px;">[[AuthZPAPCLI][pap-admin CLI]]</td>
   <td style="padding-right: 15px;">[[SimplifiedPolicyLanguage][Simplified Policy Language]]</td>
   <td style="padding-right: 15px;">[[AuthZPAPTroubleshoot][Troubleshooting]]</td>
</tr>
</table>

---+++ PDP: Policy Decision Point
The Policy Decision Point (PDP) is a policy evaluation engine.  The PDP receives authorization requests from Policy Enforcement Points and evaluates these requests against authorization policies retrieved from the PAP.

<table border="0">
<tr>
   <td style="padding-right: 15px;">[[AuthZPDPInstall][Installation]]</td>
   <td style="padding-right: 15px;">[[AuthZPDPConfig][Configuration]]</td>
   <td style="padding-right: 15px;">[[AuthZPDPOperation][Operation]]</td>
   <td>[[AuthZPDPTroubleshoot][Troubleshooting]]</td>
</tr>
</table>

---+++ PEP: Policy Enforcement Point
The Policy Enforcement Point (PEP) is the client to the authorization service.  It gathers information relevant to an authorization request (e.g. who the user, what action they are attempting to perform, which service they are attempting to perform the action on, etc.) and sends the request to the PDP for evaluation.  The PEP then acts upon returned result by allowing the request to proceed (in the case a positive authorization decision) or by denying the action (in the event of a negative decision).

In Argus, the PEP is separated in a client/server architecture. The PEP Server handles the lightweight PEP client requests, and runs on the Argus node. Lightweight PEP client libraries are available to authorize requests from the application side, and to enforce decision locally.

<table border="0">
<tr>
   <th style="padding-right: 15px;">PEP Server</th>
   <th style="padding-right: 15px;">PEP Client C API</th>
   <th style="padding-right: 15px;">PEP Client Java API</th>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPDInstall][Installation]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPCInstall][Installation]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPJInstall][Installation]]</td>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPDConfig][Configuration]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPCAPI][Programming Interface (API)]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPJavaAPI][Programming Interface (API)]]</td>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPDOperation][Operation]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPCCLI][Command Line (pepcli)]]</td>
   <td style="padding-left: 10px; padding-right: 15px;"></td>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPDTroubleshoot][Troubleshooting]]</td>
   <td style="padding-left: 10px; padding-right: 15px;"></td>
   <td style="padding-left: 10px; padding-right: 15px;"></td>
</tr>
</table>

---++ Enabled Applications
The following application contain an Argus PEP client and can make authorization requests to the Argus service.

<table border="0">
<tr>
   <th style="padding-right: 15px;">GSI PEP Callout</th>
   <th style="padding-right: 15px;">gLExec with PEP Plug-in</th>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPGSIInfo][Module Description]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[https://wiki.nikhef.nl/grid/GLExec_Argus_Quick_Installation_Guide#Introduction][Introduction]]</td>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPGSIInstall][Installation]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[https://wiki.nikhef.nl/grid/GLExec_Argus_Quick_Installation_Guide#Package_installation][Installation]]</td>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPGSIConfig][Configuration]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[https://wiki.nikhef.nl/grid/GLExec_Argus_Quick_Installation_Guide#Manual_configuration][Configuration]]</td>
</tr>
<tr>
   <td style="padding-left: 10px; padding-right: 15px;">[[AuthZPEPGSITroubleshooting][Troubleshooting]]</td>
   <td style="padding-left: 10px; padding-right: 15px;">[[https://wiki.nikhef.nl/grid/GLExec_Argus_Quick_Installation_Guide#Debugging_hints][Troubleshooting]]</td>
</tr>
</table>

---++ Support and Monitoring

---+++ GGUS Support

General support (installation, site administrator)  for Argus is available through [[https://ggus.eu][GGUS]]

---+++ Argus Support Mailing List

Argus specific (developer, site administrator) questions can be sent directly to the argus-support@googlegroups.com [[https://groups.google.com/d/forum/argus-support][mailing list]]. You don't need a Google email address or a Google account to send or receive emails from this mailing list.

   * *Subscription:* To subscribe to the support mailing list, simply send an email to: argus-support+subscribe@googlegroups.com
   * *Unsubscribe:* You can unsubscribe from the list at anytime by sending an email to: argus-support+unsubscribe@googlegroups.com 

*NOTE:* The mailing list was previously argus-support@cern.ch, but it have been migrated to argus-support@googlegroups.com at the end of the EMI project (April 2013).

---+++ Nagios Monitoring

Nagios plugins are available to monitor an Argus server.

   * For *EMI*: [[ArgusEMINagiosProbes][Argus Nagios Probes Documentation (EMI)]]
   * For *gLite 3.2*: [[AuthZNagios][Installation and Configuration of the Nagios plugins for Argus (gLite 3.2)]]


---++ Development Information

---+++ Argus Product Team

Since the beginning of EMI the Argus development is led by the [[https://twiki.cern.ch/twiki/bin/view/EMI/Argus][Argus PT]].

---+++ Security Assessment

In June 2011, the Universitat Autònoma de Barcelona (Manuel Brugnoli and Elisa Heymann, CAOS - UAB) have finished the vulnerabitlity assessment of the Argus services. The document is available here:

   * [[%ATTACHURL%/20110601-Argus_Vulnerability_Assessment.pdf][20110601-Argus_Vulnerability_Assessment.pdf]]: Argus Vulnerability Assessment (Universtat Autònoma de Barcelona, June 2011)

---+++ Specifications

   * XACML 2.0 Specifications [[http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-core-spec-os.pdf][eXtensible Access Control Markup Language (XACML) Version 2.0]]
   * [[http://www.oasis-open.org/committees/download.php/24681/xacml-profile-saml2.0-v2-spec-wd-5-en.pdf][SAML 2.0 Profile of XACML, Version 2 (Working Draft 5)]]
   * [[http://www.switch.ch/grid/support/documents/xacmlsaml.pdf][SOAP Profile for XACML-SAML]]
   * XACML Profile for the gLite WN [[https://edms.cern.ch/document/1058175][XACML Grid Worker Node Authorization Profile (v. 1.0)]]
   * XACML Profile for the gLite CE [[https://edms.cern.ch/document/1078881/][XACML Grid Computing Element Authorization Profile (v. 1.0)]]
   * XACML Authorization Profile for EMI [[https://twiki.cern.ch/twiki/bin/view/EMI/CommonXACMLProfileV1_1][Common XACML Authorization Profile (v. 1.1)]]

---+++!! Requirements

   * [[https://edms.cern.ch/document/944192][Requirements Document]] _(EDMS document 944192)_
   * [[https://edms.cern.ch/document/986067][Testing Plan]] _(EDMS document 986067)_

---+++ Presentations
   * [[%ATTACHURL%/20110531-EMI_AllHands_2011-Argus_Integration.ppt][20110531-EMI_AllHands_2011-Argus_Integration.ppt]]: Argus - EMI Authorization Integration (EMI AH 2011, 31 May 2011, Lund)
   * [[%ATTACHURL%/20110412-EGI_UF_2011-Argus.ppt][20110412-EGI_UF_2011-Argus.ppt]]: Argus - EMI Authorization Service (EGI UF 2011, 12 April 2011, Vilnus)
   * [[%ATTACHURL%/20100917_EGI-TF_ArgusSecurity.ppt][20100917_EGI-TF_ArgusSecurity.ppt]]: Argus Security (EGI TF 2010 Security Session, 17 Sept. 2010, Amsterdam)
   * [[%ATTACHURL%/introduction_authz_service.ppt][introduction_authz_service.ppt]]: General introduction to the authorization service
   * [[%ATTACHURL%/100602_argus_intro_rod.ppt][100602_argus_intro_rod.ppt]]: Introduction to Argus for ROD (EGI ROD Workshop, 2 June 2010, Amsterdam)

---+++!! Souce Code Information

We have migrated the Argus source code to [[http://github.com][GitHub]].

   * Argus Authorization Service: https://github.com/argus-authz 

The source code was previousely stored in the CERN subversion server. *Please do not use the SVN repository anymore*
   * !WebSVN View: [[https://svnweb.cern.ch/world/wsvn/glxa]]

---+++!! Development Tools
The Argus PT uses the following [[ArgusPTDevTools][development tools]].

For performance and load testing we use the following [[AuthZLLT][testing suite]].

---+++ Argus Production Settings and Optimization

Production sites can optimize the Argus Service settings to their specific needs. Please have a look at the [[ArgusEMIFineTuning][Argus Fine Tuning]] documentation.

---+++ Perfomance and Load Testing

Results and metrics of the performance and load testing can be found here:
   * For a physical machine:
      * [[AuthZTestingSummary130][Versions 1.3.0 and 1.3.1]]
      * [[AuthZTestingSummary140][Version 1.4.0]]
   * For a virtual machine:
      * [[AuthZTestingSummary140V][Version 1.4.0]]

---++ Additional Support
   * [[http://www.herasaf.org/index.php][HERAS-AF]] project has supported the project by providing a good XACML policy engine and excellent, ongoing, support of their code.
   * !YourKit is kindly supporting this open source projects with its full-featured Java Profiler. !YourKit, !LLC is the creator of innovative and intelligent tools for profiling Java and .NET applications. Take a look at !YourKit's leading software products: [[http://www.yourkit.com/java/profiler/index.jsp][YourKit Java Profiler]] and [[http://www.yourkit.com/.net/profiler/index.jsp][YourKit .NET Profiler]].
   * This product includes software developed by the [[http://www.caucho.com/][Caucho Technology]].


---++ About the name Argus
In Greek mythology Argus was a 100-eyed giant that was meant to watch and protect various things and people including the Goddess Io.  He was slain by Hermes but the gods chose to preserve his hundred eyes and affix them to the tail-feathers of a brilliantly colored bird, the peacock, in homage.  The peacock logo is provided by the royalty free clip art site [[http://www.clker.com][clker.com]].



---++ Twiki Related Links
   * [[TreeView]]







%META:FILEATTACHMENT{name="service_components.jpg" attachment="service_components.jpg" attr="" comment="" date="1233915752" path="service_components.jpg" size="44020" stream="service_components.jpg" user="Main.ChadLaJoie" version="3"}%
%META:FILEATTACHMENT{name="introduction_authz_service.ppt" attachment="introduction_authz_service.ppt" attr="" comment="General introduction to the authorization service" date="1242310334" path="introduction_authz_service.ppt" size="6160896" stream="introduction_authz_service.ppt" user="Main.ChristophWitzig" version="2"}%
%META:FILEATTACHMENT{name="global_banning.ppt" attachment="global_banning.ppt" attr="" comment="Presentation to the OSCT March 13, 2009" date="1237479571" path="global_banning.ppt" size="8338432" stream="global_banning.ppt" user="Main.ChristophWitzig" version="1"}%
%META:FILEATTACHMENT{name="peacock.png" attachment="peacock.png" attr="" comment="peacock logo provided by clker.com" date="1245133511" path="peacock.png" size="11556" stream="peacock.png" user="Main.ChadLaJoie" version="1"}%
%META:FILEATTACHMENT{name="100602_argus_intro_rod.ppt" attachment="100602_argus_intro_rod.ppt" attr="" comment="Introduction to Argus for ROD (EGI ROD Workshop, June 2, 2010, Amsterdam)" date="1275561336" path="100602_argus_intro_rod.ppt" size="4671488" stream="100602_argus_intro_rod.ppt" tmpFilename="/usr/tmp/CGItemp13973" user="da60b088352381ff62a7" version="1"}%
%META:FILEATTACHMENT{name="20100917_EGI-TF_ArgusSecurity.ppt" attachment="20100917_EGI-TF_ArgusSecurity.ppt" attr="" comment="Argus Security (EGI TF 2010 Security Session, Sept. 17, Amsterdam)" date="1285147685" path="20100917_EGI-TF_ArgusSecurity.ppt" size="1818112" stream="20100917_EGI-TF_ArgusSecurity.ppt" tmpFilename="/usr/tmp/CGItemp61602" user="ad968f62f612332eff6b" version="1"}%
%META:FILEATTACHMENT{name="glite-ARGUS_components-v2.png" attachment="glite-ARGUS_components-v2.png" attr="" comment="Argus Components" date="1287058007" path="glite-ARGUS_components-v2.png" size="330813" stream="glite-ARGUS_components-v2.png" tmpFilename="/usr/tmp/CGItemp1074" user="ad968f62f612332eff6b" version="3"}%
%META:FILEATTACHMENT{name="20110412-EGI_UF_2011-Argus.ppt" attachment="20110412-EGI_UF_2011-Argus.ppt" attr="" comment="Argus the EMI Authorization Service (EGI UF 2011, April 12, Vilnus)" date="1315486092" path="20110412-EGI_UF_2011-Argus.ppt" size="2281984" stream="20110412-EGI_UF_2011-Argus.ppt" tmpFilename="/usr/tmp/CGItemp48461" user="ad968f62f612332eff6b" version="1"}%
%META:FILEATTACHMENT{name="20110531-EMI_AllHands_2011-Argus_Integration.ppt" attachment="20110531-EMI_AllHands_2011-Argus_Integration.ppt" attr="" comment="Argus Authorization Integration (EMI AH 2011, May 31, Lund)" date="1315486287" path="20110531-EMI_AllHands_2011-Argus_Integration.ppt" size="2206208" stream="20110531-EMI_AllHands_2011-Argus_Integration.ppt" tmpFilename="/usr/tmp/CGItemp48535" user="ad968f62f612332eff6b" version="1"}%
%META:FILEATTACHMENT{name="20110601-Argus_Vulnerability_Assessment.pdf" attachment="20110601-Argus_Vulnerability_Assessment.pdf" attr="" comment="Argus Vulnerability Assessment (Universtat Autònoma de Barcelona, June 2011)" date="1315486977" path="20110601-Argus_Vulnerability_Assessment.pdf" size="197987" stream="20110601-Argus_Vulnerability_Assessment.pdf" tmpFilename="/usr/tmp/CGItemp48587" user="ad968f62f612332eff6b" version="1"}%
